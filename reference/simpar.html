<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create Parameters for Simulation with Uncertainty — simpar • simpar</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create Parameters for Simulation with Uncertainty — simpar"><meta name="description" content="Create Parameters for Simulation with Uncertainty"><meta property="og:description" content="Create Parameters for Simulation with Uncertainty"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">simpar</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/metrumresearchgroup/simpar/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create Parameters for Simulation with Uncertainty</h1>
      <small class="dont-index">Source: <a href="https://github.com/metrumresearchgroup/simpar/blob/main/R/simpar.R" class="external-link"><code>R/simpar.R</code></a></small>
      <div class="d-none name"><code>simpar.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create Parameters for Simulation with Uncertainty</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simpar</span><span class="op">(</span></span>
<span>  <span class="va">nsim</span>,</span>
<span>  <span class="va">theta</span>,</span>
<span>  <span class="va">covar</span>,</span>
<span>  <span class="va">omega</span>,</span>
<span>  <span class="va">sigma</span>,</span>
<span>  odf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sdf <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  min <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>,</span>
<span>  max <span class="op">=</span> <span class="cn">Inf</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-nsim">nsim<a class="anchor" aria-label="anchor" href="#arg-nsim"></a></dt>
<dd><p>scalar numeric specifying the number of sets to attempt</p></dd>


<dt id="arg-theta">theta<a class="anchor" aria-label="anchor" href="#arg-theta"></a></dt>
<dd><p>vector of point estimates of fixed effect parameters</p></dd>


<dt id="arg-covar">covar<a class="anchor" aria-label="anchor" href="#arg-covar"></a></dt>
<dd><p>variance-covariance matrix for fixed effect parameters</p></dd>


<dt id="arg-omega">omega<a class="anchor" aria-label="anchor" href="#arg-omega"></a></dt>
<dd><p>list of variance-covariance matrices for first level random effects</p></dd>


<dt id="arg-sigma">sigma<a class="anchor" aria-label="anchor" href="#arg-sigma"></a></dt>
<dd><p>list of variance-covariance matrices for second level random effects</p></dd>


<dt id="arg-odf">odf<a class="anchor" aria-label="anchor" href="#arg-odf"></a></dt>
<dd><p>vector of omega degrees of freedom, one per matrix</p></dd>


<dt id="arg-sdf">sdf<a class="anchor" aria-label="anchor" href="#arg-sdf"></a></dt>
<dd><p>vector of sigma degrees of freedom, one per matrix</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>number of significant digits to include in output</p></dd>


<dt id="arg-min">min<a class="anchor" aria-label="anchor" href="#arg-min"></a></dt>
<dd><p>lower limit for parameter estimates</p></dd>


<dt id="arg-max">max<a class="anchor" aria-label="anchor" href="#arg-max"></a></dt>
<dd><p>upper limit for parameter estimates</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>matrix, with column names indicating parameters, and row names indicating
set number before filtering by min and max.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If min or max are non-default (see below), you may want to set nsim
marginally higher to allow for dropped sets. covar is coerced to matrix
using as.matrix.</p>
<p>If omega and sigma are not lists, they are coerced using list. Then each
element is coerced using as.matrix.</p>
<p>By default, each element in odf and sdf will be the length (number of
elements) in the corresponding matrix.</p>
<p><code>min</code> and <code>max</code> may be given as scalar values, in which case they apply to
all parameters (as do the defaults). Alternatively, the first n limits may
be specified as a vector, in which case the remaining (if any) will be the
default. If any simulated parameter does not fall between its limits, inclusive,
the entire parameter set (row) is dropped from the result, with warning.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">simpar</span><span class="op">(</span></span></span>
<span class="r-in"><span> nsim<span class="op">=</span><span class="fl">10</span>,</span></span>
<span class="r-in"><span> theta<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13</span>,<span class="fl">75</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> covar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">7</span>,<span class="fl">2</span>,<span class="fl">7</span>,<span class="fl">30</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">0.5</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">3</span>,nrow<span class="op">=</span><span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> omega<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.04</span>,<span class="fl">0.02</span>,<span class="fl">0.02</span>,<span class="fl">0.04</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">2</span>,nrow<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">)</span>,</span></span>
<span class="r-in"><span> odf<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">20</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> sigma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.04</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> sdf<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">99</span>,<span class="fl">99</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> min<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> max<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">90</span>,<span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     TH.1  TH.2   TH.3   OM1.1   OM2.2     OM3.2   OM3.3   SG1.1  SG2.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  14.13 77.63 1.0640 0.10390 0.04442  0.007829 0.03910 0.03569 1.0690</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  12.98 74.21 1.2430 0.09322 0.05781  0.048300 0.07054 0.04070 1.0910</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  12.59 75.60 0.9816 0.11000 0.06001  0.009597 0.03225 0.04675 1.0330</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  13.38 69.56 1.4090 0.11790 0.10790  0.061510 0.06000 0.03660 0.9531</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  13.18 74.26 0.8007 0.11190 0.08363  0.046380 0.07052 0.04134 1.2040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  12.40 73.30 0.7659 0.09395 0.03944  0.017340 0.07900 0.03551 0.9038</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  13.02 78.48 0.7257 0.08317 0.05386  0.027630 0.04757 0.04314 0.8023</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  13.11 70.69 1.1650 0.08464 0.04884  0.041840 0.08535 0.04101 0.8885</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  12.07 80.26 0.3608 0.10420 0.03331 -0.006786 0.06227 0.03728 0.8611</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 19.73 74.93 2.5130 0.06927 0.06935  0.050570 0.05766 0.03791 0.9706</span>
<span class="r-in"><span><span class="fu">simpar</span><span class="op">(</span></span></span>
<span class="r-in"><span> nsim<span class="op">=</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span> theta<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13</span>,<span class="fl">75</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> covar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">7</span>,<span class="fl">2</span>,<span class="fl">7</span>,<span class="fl">30</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">0.5</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">3</span>,nrow<span class="op">=</span><span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> omega<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.04</span>,<span class="fl">0.02</span>,<span class="fl">0.02</span>,<span class="fl">0.04</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">2</span>,nrow<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">)</span>,</span></span>
<span class="r-in"><span> odf<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">20</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> sigma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.04</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> sdf<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">99</span>,<span class="fl">99</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> min<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> max<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">90</span>,<span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    TH.1  TH.2 TH.3   OM1.1   OM2.2   OM3.2   OM3.3  SG1.1 SG2.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 15.18 75.47 1.29 0.09543 0.03465 0.01318 0.07248 0.0442  1.26</span>
<span class="r-in"><span><span class="fu">simpar</span><span class="op">(</span></span></span>
<span class="r-in"><span> nsim<span class="op">=</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span> theta<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13</span>,<span class="fl">75</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> covar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">7</span>,<span class="fl">2</span>,<span class="fl">7</span>,<span class="fl">30</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">0.5</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">3</span>,nrow<span class="op">=</span><span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> omega<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.04</span>,<span class="fl">0.02</span>,<span class="fl">0.02</span>,<span class="fl">0.04</span><span class="op">)</span>,ncol<span class="op">=</span><span class="fl">2</span>,nrow<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">)</span>,</span></span>
<span class="r-in"><span> odf<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>,<span class="fl">20</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> sigma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0.04</span>,<span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> sdf<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">99</span>,<span class="fl">99</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> min<span class="op">=</span><span class="cn">Inf</span>,</span></span>
<span class="r-in"><span> max<span class="op">=</span><span class="op">-</span><span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>1 of 1 rows dropped</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      TH.1 TH.2 TH.3 OM1.1 OM2.2 OM3.2 OM3.3 SG1.1 SG2.2</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kyle Baron.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

